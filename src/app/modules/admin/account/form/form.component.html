<div class="flex flex-col justify-between w-full">
    <form [formGroup]="addForm" class="w-full">
        <div class="flex flex-col flex-auto min-w-0">
            <!-- Header -->
            <div
                class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between px-5 border-b bg-card dark:bg-transparent">
                <div class="flex-1 flex min-w-0">
                    <!-- Title -->
                    <div class="flex flex-row mt-2 justify-start">
                        <h2
                            class="text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate flex items-center h-20">
                            ข้อมูลบัญชี
                        </h2>
                    </div>

                </div>
            </div>
            <div class="flex-auto px-6 sm:px-6 py-4 items-center w-500 ">
                <div class="bg-card md:shadow overflow-hidden rounded-md px-1 pt-3 pb-8 mb-4 flex flex-col my-2">
                    <mat-tab-group class="sm:px-1" mat-stretch-tabs="false" [animationDuration]="'0'">
                        <!-- Home -->
                        <mat-tab>
                            <ng-template mat-tab-label>
                                <mat-icon class="mr-2" svgIcon="heroicons_outline:user-circle"></mat-icon>
                                <span>ข้อมูลส่วนตัว</span>
                            </ng-template>
                            <ng-template matTabContent>
                                <div class="container">
                                    <div class="grid gap-4 w-full p-16 sm:grid-cols-1 md:grid-cols-3">
                                        <!-- Image Upload Section -->
                                        <div class="flex  justify-center">
                                            <form
                                                class="bg-card rounded-2xl md:shadow overflow-hidden px-4 pt-6 pb-2 w-full flex justify-center  "
                                                [formGroup]="addForm">
                                                <div class=" justify-center flex w-80 ">
                                                    <div>
                                                        <ngx-dropzone class="rounded-full"
                                                            style="width: 180px; height: 180px; margin-left: 10px;"
                                                            (change)="onSelect($event)">

                                                            <ngx-dropzone-label>อัปโหลดรูปภาพ</ngx-dropzone-label>
                                                            <div *ngFor="let f of files">
                                                                <ngx-dropzone-image-preview class="rounded-full"
                                                                    [file]="f" [removable]="true"
                                                                    (removed)="onRemove(f)"
                                                                    style="border-radius: 50%; width: 100%; height: 100%; object-fit: cover;"></ngx-dropzone-image-preview>
                                                            </div>
                                                        </ngx-dropzone>

                                                        <div class="text-center font-light mt-4">ไฟล์ที่รองรับ *.jpeg,
                                                            *.jpg, *.png,
                                                            <br> สูงสุดไม่เกิน 3.1 MB
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>


                                        <div class="mb-4 ml-4 justify-content-center col-span-2">
                                            <form
                                                class="bg-card rounded-2xl md:shadow overflow-hidden px-2 md:px-8 pt-6 pb-8 flex flex-col"
                                                [formGroup]="addForm">
                                                
                                                <div class="flex flex-wrap md:flex-nowrap">
                                                    <!-- รหัสพนักงาน -->

                                                    <div
                                                    class="max-w-full px-3 mb-6 md:mb-0 md:flex-initial w-full md:w-1/3 h-14">
                                                    <mat-form-field [ngClass]="formFieldHelpers"
                                                        class="w-full max-w-full">
                                                        <mat-label class="font-light">รหัสพนักงาน</mat-label>
                                                        <input matInput formControlName="code" readonly>
                                                    </mat-form-field>
                                                </div>
                                                    <!-- ชื่อ -->
                                                    <div
                                                        class=" max-w-full px-3 mb-6 md:mb-0 md:flex-initial w-full md:w-1/3 h-14">
                                                        <mat-form-field [ngClass]="formFieldHelpers"
                                                            class="w-full max-w-full">
                                                            <mat-label class="font-light">ชื่อ</mat-label>
                                                            <input matInput formControlName="fname">
                                                        </mat-form-field>
                                                    </div>

                                                    <!-- นามสกุล -->
                                                    <div
                                                        class=" max-w-full px-3 mb-6 md:mb-0 md:flex-initial w-full md:w-1/3 h-14">
                                                        <mat-form-field [ngClass]="formFieldHelpers"
                                                            class="w-full max-w-full">
                                                            <mat-label class="font-light">นามสกุล</mat-label>
                                                            <input matInput formControlName="lname">
                                                        </mat-form-field>
                                                    </div>
                                                </div>


                                                <div class="flex flex-wrap md:flex-nowrap mt-8">
                                                    <div
                                                        class="max-w-full px-3 mb-6 md:mb-0 md:flex-initial w-full md:w-1/2 h-14">
                                                        <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                                            <mat-label class=" font-light">เบอร์ติดต่อ</mat-label>
                                                            <input matInput formControlName="phone">
                                                        </mat-form-field>
                                                    </div>
                                                    <div
                                                        class=" max-w-full px-3 mb-6 md:mb-0 md:flex-initial w-full md:w-1/2 h-14">
                                                        <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                                            <mat-label class=" font-light">อีเมล</mat-label>
                                                            <input matInput formControlName="email">
                                                        </mat-form-field>
                                                    </div>
                                                </div>

                                                <div class="md:w-full px-3 mb-6 md:mb-0 mt-8">
                                                    <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                                        <mat-label class="font-light">ตำแหน่ง</mat-label>
                                                        <input matInput formControlName="positionName" disabled>
                                                    </mat-form-field>
                                                </div>

                                                <div class="md:w-full px-3 mb-6 md:mb-0">
                                                    <mat-form-field [ngClass]="formFieldHelpers" class="w-full ">
                                                        <mat-label class="font-light">แผนก</mat-label>
                                                        <input matInput formControlName="departmentName" disabled
                                                            class="">
                                                    </mat-form-field>
                                                </div>
                                                <div class="md:w-full px-3 mb-6 md:mb-0">
                                                    <div
                                                        class="flex justify-start items-center bg-gray-50 rounded-lg p-4">
                                                        <mat-icon
                                                            svgIcon="heroicons_solid:information-circle"></mat-icon>
                                                        <span class="mx-4">สำหรับการแก้ไข ตำแหน่ง กรุณาติดต่อ Admin
                                                        </span>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                        </mat-tab>
                        <mat-tab>
                            <ng-template mat-tab-label>
                                <mat-icon class="mr-2" svgIcon="mat_solid:vpn_key"></mat-icon>
                                <span>เปลี่ยนแปลงรหัสผ่าน</span>
                            </ng-template>
                            <ng-template matTabContent>
                                <div
                                    class="bg-card col-span-2 rounded-2xl md:shadow overflow-hidden px-4 pt-6 pb-8 mb-4 flex flex-col my-2">
                                    <div class="flex flex-col mb-4">
                                        <div class="md:w-full">
                                            <mat-form-field class="w-full max-w-full">
                                                <!-- <mat-label class=" font-light"></mat-label> -->
                                                <input id="old_password" matInput type="password"
                                                    placeholder="รหัสผ่านเดิม" [formControlName]="'old_password'"
                                                    #passwordField1>
                                                <button mat-icon-button type="button"
                                                    (click)="passwordField1.type === 'password' ? passwordField1.type = 'text' : passwordField1.type = 'password'"
                                                    matSuffix>
                                                    <mat-icon class="icon-size-5"
                                                        *ngIf="passwordField1.type === 'password'"
                                                        [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                                                    <mat-icon class="icon-size-5" *ngIf="passwordField1.type === 'text'"
                                                        [svgIcon]="'heroicons_solid:eye-slash'"></mat-icon>
                                                </button>
                                                <mat-error>
                                                    Password is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="flex flex-col mb-4">
                                        <div class="md:w-full ">
                                            <mat-form-field class="w-full">
                                                <!-- <mat-label class=" font-light"></mat-label> -->
                                                <input id="password" matInput type="password"
                                                    [formControlName]="'password'" placeholder="รหัสผ่านใหม่"
                                                    #passwordField2>
                                                <button mat-icon-button type="button"
                                                    (click)="passwordField2.type === 'password' ? passwordField2.type = 'text' : passwordField2.type = 'password'"
                                                    matSuffix>
                                                    <mat-icon class="icon-size-5"
                                                        *ngIf="passwordField2.type === 'password'"
                                                        [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                                                    <mat-icon class="icon-size-5" *ngIf="passwordField2.type === 'text'"
                                                        [svgIcon]="'heroicons_solid:eye-slash'"></mat-icon>
                                                </button>
                                                <mat-error>
                                                    Password is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="flex flex-col mb-4">
                                        <div class="md:w-full mb-3">
                                            <mat-form-field class="w-full">
                                                <!-- <mat-label class=" font-light">ยืนยันรหัสผ่านใหม่</mat-label> -->
                                                <input id="password" matInput type="password"
                                                    [formControlName]="'password'" placeholder="ยืนยันรหัสผ่านใหม่"
                                                    #passwordField3>
                                                <button mat-icon-button type="button"
                                                    (click)="passwordField3.type === 'password' ? passwordField3.type = 'text' : passwordField3.type = 'password'"
                                                    matSuffix>
                                                    <mat-icon class="icon-size-5"
                                                        *ngIf="passwordField3.type === 'password'"
                                                        [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                                                    <mat-icon class="icon-size-5" *ngIf="passwordField3.type === 'text'"
                                                        [svgIcon]="'heroicons_solid:eye-slash'"></mat-icon>
                                                </button>
                                                <mat-error>
                                                    Password is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                        </mat-tab>
                    </mat-tab-group>
                </div>
            </div>
        </div>

    </form>
    <div class="bg-card md:shadow overflow-hidden px-8 pt-3 pb-4 flex flex-col">
        <div class="md:max-w-full">

            <div mat-dialog-actions class="flex justify-end mt-4">
                <!-- <button class="px-6 ml-3" mat-flat-button (click)="back()">
                    <div class="font-light">
                        ยกเลิก
                    </div>
                </button> -->
                <!-- <div class="text-3xl md:text-4xl font-light tracking-tight leading-7 sm:leading-10 truncate"
                    style="border: 1px solid #ccc; padding: 1px; border-radius: 10px;">
                    <button class="px-6 rounded-md" mat-flat-button [color]="'white'" (click)="back()">
                        ยกเลิก
                    </button>
                </div> -->
                <div class="text-3xl md:text-4xl font-light tracking-tight leading-7 sm:leading-10 truncate">
                    <button class="px-6 ml-3 font-light rounded-md" mat-flat-button [color]="'primary'"
                        (click)="onSaveClick()">
                        <div class="font-light">
                            บันทึก
                        </div>
                    </button>
                </div>
            </div>
        </div>


    </div>

</div>